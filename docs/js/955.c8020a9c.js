"use strict";(self["webpackChunktest"]=self["webpackChunktest"]||[]).push([[955],{955:function(t,e,i){i.r(e),i.d(e,{default:function(){return u}});var s=function(){var t=this,e=t._self._c;return e("div",{staticStyle:{height:"100%",width:"100%","background-color":"#ededed"}},[e("div",{staticClass:"wrap"},[e("div",{staticClass:"titleBox"},[e("img",{staticClass:"head_portrait",staticStyle:{"margin-left":"20px","margin-right":"20px"},attrs:{src:"https://img-qn-2.51miz.com/preview/element/00/01/27/97/E-1279706-3813EBF9.jpg!/quality/90/unsharp/true/compress/true/format/jpg/fh/320",alt:""}}),e("span",{staticStyle:{color:"#fff"}},[t._v("官方客服")]),e("el-popover",{attrs:{placement:"bottom",trigger:"click"}},[e("div",{staticClass:"stateBox2",on:{click:function(e){return t.uploadState(1)}}},[e("span",{staticClass:"state1"}),e("span",{staticClass:"stateText"},[t._v("在线")])]),e("div",{staticClass:"stateBox2",on:{click:function(e){return t.uploadState(2)}}},[e("span",{staticClass:"state2"}),e("span",{staticClass:"stateText"},[t._v("离线")])]),e("div",{staticClass:"stateBox2",on:{click:function(e){return t.uploadState(3)}}},[e("span",{staticClass:"state3"}),e("span",{staticClass:"stateText"},[t._v("忙碌")])]),e("div",{staticClass:"stateBox2",on:{click:function(e){return t.uploadState(4)}}},[e("span",{staticClass:"state4"}),e("span",{staticClass:"stateText"},[t._v("退出")])]),1==t.state?e("div",{staticClass:"stateBox",attrs:{slot:"reference"},slot:"reference"},[e("span",{staticClass:"state1"}),e("span",{staticClass:"stateText"},[t._v("在线")])]):t._e(),2==t.state?e("div",{staticClass:"stateBox",attrs:{slot:"reference"},slot:"reference"},[e("span",{staticClass:"state2"}),e("span",{staticClass:"stateText"},[t._v("离线")])]):t._e(),3==t.state?e("div",{staticClass:"stateBox",attrs:{slot:"reference"},slot:"reference"},[e("span",{staticClass:"state3"}),e("span",{staticClass:"stateText"},[t._v("忙碌")])]):t._e()])],1),e("div",{staticClass:"infoBox"},[e("div",{staticClass:"userList"},[e("div",{staticClass:"searchBox"},[e("el-input",{staticClass:"input-with-select",attrs:{placeholder:"请输入内容",size:"mini"},on:{input:t.inquire},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}},[e("i",{staticClass:"el-icon-search el-input__icon",attrs:{slot:"suffix"},on:{click:t.handleIconClick},slot:"suffix"})]),e("el-button",{attrs:{icon:"el-icon-plus",size:"mini",type:"primary"},on:{click:function(e){t.dialogVisible=!0}}})],1),e("div",{staticClass:"userListBox"},t._l(t.userListData,(function(i,s){return e("div",{key:s,class:i.id==t.act?"userFlexAct":"userFlex",on:{click:function(e){return t.getAct(i,s)}}},[e("div",[e("img",{staticClass:"head_portrait2",staticStyle:{"margin-left":"20px"},attrs:{src:i.url,alt:"头像"}})]),e("div",{staticStyle:{"margin-right":"40px"}},[e("el-tooltip",{attrs:{content:i.username,placement:"bottom",effect:"light"}},[e("div",{staticClass:"userName",staticStyle:{color:"#565656"}},[t._v(" "+t._s(i.username)+" ")])]),e("div",{staticClass:"userInfo"},[t._v(t._s(i.info))])],1),e("div",{staticStyle:{"margin-right":"10px","font-size":"14px",color:"#ccc"}},[t._v(" "+t._s(i.timer)+" ")])])})),0)]),e("div",{staticClass:"infoList"},[e("div",{ref:"scrollBox",staticClass:"infoTop",attrs:{id:"box"}},t._l(t.userInfoList,(function(i,s){return e("div",{key:s,class:"left"==i.position?"chatInfoLeft":"chatInfoRight"},[e("img",{staticClass:"head_portrait2",attrs:{src:i.url,alt:"头像"}}),e("div",{class:"left"==i.position?"chatLeft":"chatRight"},[e("div",{staticClass:"text",domProps:{innerHTML:t._s(i.info)}})])])})),0),e("div",{staticClass:"infoBottom"},[e("div",{staticClass:"infoIcon"},[e("i",{staticClass:"el-icon-picture-outline-round",on:{click:function(e){return t.extend("照片上传")}}}),e("i",{staticClass:"el-icon-sell",on:{click:function(e){return t.extend("发送商品")}}}),e("i",{staticClass:"el-icon-setting",on:{click:function(e){return t.extend("设置")}}}),e("i",{staticClass:"el-icon-chat-dot-round",on:{click:function(e){return t.extend("聊天记录")}}}),e("i",{staticClass:"el-icon-more-outline",on:{click:function(e){return t.extend("更多选项")}}})]),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.textarea,expression:"textarea"}],staticClass:"infoInput",attrs:{type:"textarea",disabled:1!=t.isshow},domProps:{value:t.textarea},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")||e.ctrlKey||e.shiftKey||e.altKey||e.metaKey?null:t.handlePushKeyword(e)},keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:e.ctrlKey?t.lineFeed.apply(null,arguments):null},input:function(e){e.target.composing||(t.textarea=e.target.value)}}}),t._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:1==t.isshow,expression:"isshow == 1 ? true : false"}],staticClass:"fasong",on:{click:t.setUp}},[t._v(" 发送 ")])])])])]),e("el-dialog",{attrs:{title:"选择需要添加的联系人",visible:t.dialogVisible,width:"30%",modal:!1},on:{"update:visible":function(e){t.dialogVisible=e}}},[e("span",[t._v("自定义页面，还没想好写什么功能")]),e("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{on:{click:function(e){t.dialogVisible=!1}}},[t._v("取 消")]),e("el-button",{attrs:{type:"primary"},on:{click:function(e){t.dialogVisible=!1}}},[t._v("确 定")])],1)])],1)},o=[],a=(i(7658),{data(){return{path:"ws://localhost:5501",ws:null,lockReconnect:!1,timeout:1e4,timeoutObj:null,serverTimeoutObj:null,timeoutnum:null,state:1,search:"",userListData:[{id:0,url:"https://img1.baidu.com/it/u=592570905,1313515675&fm=253&fmt=auto&app=138&f=JPEG?w=500&h=500",username:"花间一壶酒",info:"在吗",timer:"2022/8/9"},{id:1,url:"https://img2.baidu.com/it/u=2859542338,3761174075&fm=253&fmt=auto&app=138&f=JPEG?w=501&h=500",username:"超人不换内裤",info:"在吗在吗",timer:"2022/8/1"},{id:2,url:"https://img1.baidu.com/it/u=2029513305,2137933177&fm=253&fmt=auto&app=138&f=JPEG?w=500&h=472",username:"王子变蛤蟆",info:"你好，在吗",timer:"2022/8/9"},{id:3,url:"https://img1.baidu.com/it/u=1960292808,1761809160&fm=253&fmt=auto&app=138&f=JPEG?w=500&h=500",username:"皇太子",info:"给我看一下这个情况呢",timer:"2022/8/2"},{id:4,url:"https://img2.baidu.com/it/u=3684117954,695988885&fm=253&fmt=auto&app=138&f=JPEG?w=400&h=400",username:"飞天小女警",info:"模拟数据发送一下呢",timer:"2022/8/4"},{id:5,url:"https://img2.baidu.com/it/u=4122738859,2522601053&fm=253&fmt=auto&app=138&f=JPEG?w=500&h=500",username:"罗大大大",info:"在吗",timer:"2022/8/5"},{id:6,url:"https://img0.baidu.com/it/u=661161858,172661768&fm=253&fmt=auto&app=138&f=JPEG?w=500&h=500",username:"王子花",info:"好的，我知道了",timer:"2022/8/9"},{id:7,url:"https://img2.baidu.com/it/u=835899845,548435859&fm=253&fmt=auto&app=138&f=JPEG?w=500&h=500",username:"开盖有奖",info:"试试看吧，再发一次",timer:"2022/8/9"},{id:8,url:"https://img0.baidu.com/it/u=4065107391,2142799144&fm=253&fmt=auto&app=138&f=JPEG?w=527&h=500",username:"日本大爆炸",info:"在吗",timer:"2022/8/5"},{id:9,url:"https://img2.baidu.com/it/u=2860188096,638334621&fm=253&fmt=auto&app=138&f=JPEG?w=500&h=500",username:"秋天的第一杯奶茶",info:"好的，我知道了",timer:"2022/8/9"},{id:10,url:"https://img0.baidu.com/it/u=1694074520,2517635995&fm=253&fmt=auto&app=138&f=JPEG?w=500&h=500",username:"潮汐",info:"试试看吧，再发一次",timer:"2022/8/9"}],userListDatas:[{id:0,url:"https://img1.baidu.com/it/u=592570905,1313515675&fm=253&fmt=auto&app=138&f=JPEG?w=500&h=500",username:"花间一壶酒",info:"在吗",timer:"2022/8/9"},{id:1,url:"https://img2.baidu.com/it/u=2859542338,3761174075&fm=253&fmt=auto&app=138&f=JPEG?w=501&h=500",username:"超人不换内裤",info:"在吗在吗",timer:"2022/8/1"},{id:2,url:"https://img1.baidu.com/it/u=2029513305,2137933177&fm=253&fmt=auto&app=138&f=JPEG?w=500&h=472",username:"王子变蛤蟆",info:"你好，在吗",timer:"2022/8/9"},{id:3,url:"https://img1.baidu.com/it/u=1960292808,1761809160&fm=253&fmt=auto&app=138&f=JPEG?w=500&h=500",username:"皇太子",info:"给我看一下这个情况呢",timer:"2022/8/2"},{id:4,url:"https://img2.baidu.com/it/u=3684117954,695988885&fm=253&fmt=auto&app=138&f=JPEG?w=400&h=400",username:"飞天小女警",info:"模拟数据发送一下呢",timer:"2022/8/4"},{id:5,url:"https://img2.baidu.com/it/u=4122738859,2522601053&fm=253&fmt=auto&app=138&f=JPEG?w=500&h=500",username:"罗大大大",info:"在吗",timer:"2022/8/5"},{id:6,url:"https://img0.baidu.com/it/u=661161858,172661768&fm=253&fmt=auto&app=138&f=JPEG?w=500&h=500",username:"王子花",info:"好的，我知道了",timer:"2022/8/9"},{id:7,url:"https://img2.baidu.com/it/u=835899845,548435859&fm=253&fmt=auto&app=138&f=JPEG?w=500&h=500",username:"开盖有奖",info:"试试看吧，再发一次",timer:"2022/8/9"},{id:8,url:"https://img0.baidu.com/it/u=4065107391,2142799144&fm=253&fmt=auto&app=138&f=JPEG?w=527&h=500",username:"日本大爆炸",info:"在吗",timer:"2022/8/5"},{id:9,url:"https://img2.baidu.com/it/u=2860188096,638334621&fm=253&fmt=auto&app=138&f=JPEG?w=500&h=500",username:"秋天的第一杯奶茶",info:"好的，我知道了",timer:"2022/8/9"},{id:10,url:"https://img0.baidu.com/it/u=1694074520,2517635995&fm=253&fmt=auto&app=138&f=JPEG?w=500&h=500",username:"潮汐",info:"试试看吧，再发一次",timer:"2022/8/9"}],act:Number,dialogVisible:!1,userInfoList2:[{url:"https://img1.baidu.com/it/u=592570905,1313515675&fm=253&fmt=auto&app=138&f=JPEG?w=500&h=500",username:"花间一壶酒",info:"在吗",timer:"2022/8/9",position:"left"},{url:"https://img1.baidu.com/it/u=592570905,1313515675&fm=253&fmt=auto&app=138&f=JPEG?w=500&h=500",username:"花间一壶酒",info:"在吗",timer:"2022/8/9",position:"left"},{url:"https://img2.baidu.com/it/u=2859542338,3761174075&fm=253&fmt=auto&app=138&f=JPEG?w=501&h=500",username:"超人不换内裤",info:"在吗在吗",timer:"2022/8/1",position:"right"},{url:"https://img1.baidu.com/it/u=592570905,1313515675&fm=253&fmt=auto&app=138&f=JPEG?w=500&h=500",username:"花间一壶酒",info:"在吗",timer:"2022/8/9",position:"left"},{url:"https://img2.baidu.com/it/u=2859542338,3761174075&fm=253&fmt=auto&app=138&f=JPEG?w=501&h=500",username:"超人不换内裤",info:"在吗在吗",timer:"2022/8/1",position:"right"},{url:"https://img1.baidu.com/it/u=592570905,1313515675&fm=253&fmt=auto&app=138&f=JPEG?w=500&h=500",username:"花间一壶酒",info:"在吗在吗在吗在吗在吗在吗在吗",timer:"2022/8/9",position:"left"},{url:"https://img2.baidu.com/it/u=2859542338,3761174075&fm=253&fmt=auto&app=138&f=JPEG?w=501&h=500",username:"超人不换内裤",info:"在吗在吗在吗在吗在吗在吗在吗在吗在吗在吗",timer:"2022/8/1",position:"right"},{url:"https://img1.baidu.com/it/u=592570905,1313515675&fm=253&fmt=auto&app=138&f=JPEG?w=500&h=500",username:"花间一壶酒",info:"在吗在吗在吗在吗在吗在吗在吗在吗在吗在吗在吗在吗在吗在吗在吗在吗在吗在吗在吗在吗在吗在吗在吗在吗在吗在吗在吗在吗在吗在吗在吗在吗在吗在吗在吗在吗在吗在吗在吗在吗在吗在吗在吗",timer:"2022/8/9",position:"left"},{url:"https://img2.baidu.com/it/u=2859542338,3761174075&fm=253&fmt=auto&app=138&f=JPEG?w=501&h=500",username:"超人不换内裤",info:"在吗在吗在吗在吗在吗在吗",timer:"2022/8/1",position:"right"}],userInfoList3:[{url:"https://img1.baidu.com/it/u=592570905,1313515675&fm=253&fmt=auto&app=138&f=JPEG?w=500&h=500",username:"花间一壶酒",info:"测试测试",timer:"2022/8/9",position:"left"},{url:"https://img1.baidu.com/it/u=592570905,1313515675&fm=253&fmt=auto&app=138&f=JPEG?w=500&h=500",username:"花间一壶酒",info:"测试",timer:"2022/8/9",position:"left"},{url:"https://img2.baidu.com/it/u=2859542338,3761174075&fm=253&fmt=auto&app=138&f=JPEG?w=501&h=500",username:"超人不换内裤",info:"测试测试测试测试",timer:"2022/8/1",position:"right"}],userInfoList:[],textarea:"",scrollTop:0,isshow:0}},created(){this.initWebpack()},beforeDestroy(){this.ws.close(),clearTimeout(this.timeoutObj),clearTimeout(this.serverTimeoutObj)},methods:{uploadState(t){4!==t?this.state=t:this.$confirm("是否退出登录?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((()=>{this.$message({type:"success",message:"退出成功!"})})).catch((()=>{this.$message({type:"info",message:"已取消退出"})}))},handleIconClick(){console.log(1)},getAct(t,e){this.isshow=1,this.$refs.scrollBox.removeEventListener("scroll",this.srTop),this.act=t.id,this.userInfoList=[],"花间一壶酒"==t.username?(this.userInfoList=this.userInfoList2,this.$nextTick((()=>{this.setPageScrollTo(),this.$refs.scrollBox.scrollTop=this.$refs.scrollBox.scrollHeight}))):"超人不换内裤"==t.username?(this.userInfoList=this.userInfoList3,this.$nextTick((()=>{this.setPageScrollTo(),this.$refs.scrollBox.scrollTop=this.$refs.scrollBox.scrollHeight}))):"王子变蛤蟆"==t.username&&this.$nextTick((()=>{this.setPageScrollTo(),this.$refs.scrollBox.scrollTop=this.$refs.scrollBox.scrollHeight}))},inquire(){let t=this.search;this.userListData=t?this.userListDatas.filter((e=>e.username.includes(t))):this.userListDatas},setUp(){console.log("发送内容:",this.textarea),this.userInfoList2.push({url:"https://img2.baidu.com/it/u=2859542338,3761174075&fm=253&fmt=auto&app=138&f=JPEG?w=501&h=500",username:"超人不换内裤",info:this.textarea,timer:"2022/8/1",position:"right"}),this.textarea="",this.$nextTick((()=>{this.setPageScrollTo(),this.$refs.scrollBox.scrollTop=this.$refs.scrollBox.scrollHeight}))},handlePushKeyword(t){if(console.log(t),13===t.keyCode)return t.preventDefault(),this.setUp(),!1},lineFeed(){console.log("换行"),this.textarea=this.textarea+"\n"},extend(t){alert("你点击了："+t)},setPageScrollTo(t,e){this.scrollTop=document.querySelector("#box").offsetHeight,setTimeout((t=>{this.scrollTop!=this.$refs.scrollBox.offsetHeight&&(this.scrollTop=document.querySelector("#box").offsetHeight)}),100),this.$refs.scrollBox.scrollTop=this.scrollTop,this.$refs.scrollBox.scrollTop>0&&this.$refs.scrollBox.addEventListener("scroll",this.srTop)},srTop(){0==this.$refs.scrollBox.scrollTop&&alert("已经到顶部了")},initWebpack(){"undefined"===typeof WebSocket?alert("您的浏览器不支持socket"):(this.ws=new WebSocket(this.path),this.ws.onopen=this.onopen,this.ws.onmessage=this.onmessage,this.ws.onclose=this.onclose,this.ws.onerror=this.onerror)},reconnect(){var t=this;t.lockReconnect||(t.lockReconnect=!0,t.timeoutnum&&clearTimeout(t.timeoutnum),t.timeoutnum=setTimeout((function(){t.initWebpack(),t.lockReconnect=!1}),5e3))},reset(){var t=this;clearTimeout(t.timeoutObj),clearTimeout(t.serverTimeoutObj),t.start()},start(){var t=this;t.timeoutObj&&clearTimeout(t.timeoutObj),t.serverTimeoutObj&&clearTimeout(t.serverTimeoutObj),t.timeoutObj=setTimeout((function(){1==t.ws.readyState?t.ws.send("ping"):t.reconnect(),t.serverTimeoutObj=setTimeout((function(){t.ws.close()}),t.timeout)}),t.timeout)},onopen(){console.log("连接成功"),1==this.ws.readyState&&this.ws.send("链接上啦！！！"),this.start()},onmessage(t){console.log("收到后台信息:",t.data),"pong"==t.data&&this.reset()},onclose(t){console.log("连接关闭"),this.reconnect()},onerror(t){console.log("出现错误"),this.reconnect()}}}),r=a,n=i(3736),l=(0,n.Z)(r,s,o,!1,null,"053e71ac",null),u=l.exports}}]);
//# sourceMappingURL=955.c8020a9c.js.map